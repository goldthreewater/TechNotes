### API接口文档

#### 1. 接口概述

**接口名称**: `/process-media`

**请求方式**: `POST`

**描述**: 接收图片或视频的 URL 或 base64 编码数据，进行处理并返回相应的处理结果。根据输入的类型（图片或视频），处理结果会有所不同。

#### 2. 请求参数

**请求体格式**: `JSON`

```
json复制代码{
  "media_type": "image" | "video",
  "urls_or_base64": [
    "url1" | "base64_string1",
    "url2" | "base64_string2",
    ...
  ]
}
```

**字段说明**:

- `media_type`:

  - 类型 `string`
  - 说明：指定输入的媒体类型。值可以为 `"image"` 或 `"video"`。

- `urls_or_base64`:

  - 类型 `array`

  - 说明：根据 

    ```
    media_type
    ```

     的不同，传入图片或视频的 URL 或 base64 编码字符串。

    - 如果 `media_type` 是 `"image"`，这个字段为包含图片 URL 或 base64 字符串的列表，最多 15 张图片。
    - 如果 `media_type` 是 `"video"`，这个字段包含 1 个视频 URL 字符串。

  - 对于图片类型，支持最多 15 张图片（URL 或 base64 形式）。

  - 对于视频类型，支持 1 个视频（URL 或 base64 形式）。

  - 如果传入 URL 列表，确保 URL 可访问，或者传入 base64 编码的图片数据。

#### 3. 请求示例

##### 图片请求示例

```
json复制代码{
  "media_type": "image",
  "urls_or_base64": [
    "http://example.com/test1.jpg",
    "http://example.com/test2.jpg"
  ]
}
```

##### 视频请求示例

```
json复制代码{
  "media_type": "video",
  "urls_or_base64": [
    "http://example.com/test.mp4"
  ]
}
```

#### 4. 响应参数

**响应体格式**: `JSON`

```
json复制代码{
  "results": {
    "file_name": [score1, score2, ..., scoreN],
    "average_score": average_score_value
  }
}
```

**字段说明**:

- `results`:
  - 类型 `object`
  - 说明：包含媒体文件名及其对应的处理结果，结果是一个包含分数的数组。
  - 键名是媒体文件名，值是该文件的处理结果，形式为分数列表。
- `average_score`:
  - 类型 `number`
  - 说明：该文件处理结果分数的平均值。

#### 5. 响应示例

##### 图片响应示例

```
json复制代码{
  "results": {
    "test.jpg": [0.9316368103027344],
    "average_score": 0.9316368103027344
  }
}
```

##### 视频响应示例

```
json复制代码{
  "results": {
    "test.mp4": [
      0.5961437821388245, 0.5131245255470276, 0.5339428782463074,
      0.5401058793067932, 0.4582514464855194, 0.4050401747226715,
      0.4967362880706787, 0.4948056936264038, 0.5836636424064636,
      0.6285680532455444, 0.518826425075531, 0.5599268078804016,
      0.5514264702796936, 0.5568392872810364, 0.6546274423599243
    ],
    "average_score": 0.5304808259010315
  }
}
```

#### 6. 错误码

| 错误码 | 描述                                                     |
| ------ | -------------------------------------------------------- |
| `400`  | 请求参数错误（如缺少 `media_type` 或 `urls_or_base64`）  |
| `415`  | 不支持的媒体类型（`media_type` 不是 `image` 或 `video`） |
| `413`  | 输入文件过大（图片或视频文件大小超过限制）               |
| `500`  | 服务器内部错误                                           |

#### 7. 处理流程

- 根据 `media_type` 字段判断处理图片或视频。
- 如果是图片，最多支持 15 张图片，每张图片可以是 URL 或 base64 字符串。
- 如果是视频，支持 1 个视频，输入形式可以是 URL 。
- 返回每个媒体文件的处理结果，以 JSON 格式返回分数数组及平均分。